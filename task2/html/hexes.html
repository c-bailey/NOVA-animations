<html>
<body>
<script src="raphael-min.js"></script>
<div id="foo" style="background-color:#fff"></div>
<script>

    var r = Raphael('foo', 1009, 633),
    	minRad = 50,
    	hexes=[],
    	hexesX=[],
    	hexesY=[],
    	j=0,
    	k=0,
    	colors=['5ed6c9','1ca495','04655b','7d72de','4133b6','1d1371','c4f76c','a5ed29','619706'] ;

    Raphael.fn.hexagon = function(radius) {
		var path = ""
		for (var i = 0; i <= 6; i++) {
	  	var a = i * 60,
	  	    x = radius * Math.cos(a * Math.PI / 180),
	  	    y = radius * Math.sin(a * Math.PI / 180);
	  	path += (i == 0 ? "M" : "L") + x + "," + y}
		path += "Z"
		return this.path(path)
	}


var makeHex = function(x,y) {
	var hex = {
		'hexShape': r.hexagon(minRad).attr({fill: colors[Math.floor(Math.random()*colors.length)], stroke:'none'}).transform('T' + (160*(x+0.5)) + ' ' + (50*(y+1))).hover(function() {this.animate({transform:'T' + (160*(x+0.5)) + ' ' + (50*(y+1)) + ' s2'}, 1000, '<>')}, function() {this.animate({transform:'T' + (160*(x+0.5)) + ' ' + (50*(y+1)) + ' s1'}, 1000, '<>')}).click(function() {this.attr({fill: colors[Math.floor(Math.random()*colors.length)], stroke:'none'})})
	};

}

for (var i = 0; i <50; i++) {
		hexes.push(makeHex(k,j));

		if (i%5 == 4) {
			j++;
			if ((i%10)%2 == 0) {
				k=0.5;
			} else {
				k=0;
			}
		} else {
			k++;
		}		
	};




</script>
</body>
</html>