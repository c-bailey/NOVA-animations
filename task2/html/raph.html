<html>
<body>
<script src="raphael-min.js"></script>
<div id="foo" style="background-color:#000"></div>
<script>
    var r = Raphael('foo', 1009, 633),
        baseL = r.path('M0 126 l63 63 l126  0   l-63 -63 l-126 0'),
        baseR = r.path('M126 0 l63  63 l0   126  l-63 -63 l0  -126'),
        baseT = r.rect(0, 0, 126, 126)
        // baseL = r.path('M0 126 l126  126 l126  0   l-126 -126 l-126 0'),
        // baseR = r.path('M126 0 l126  126 l0   126  l-126 -126 l0  -126'),
        // baseT = r.rect(0, 0, 126, 126),
        init = 145,
        recRL = r.path(  'M962 '+init+'   l-12 -12   l-14 0    l12 12   l14 0'  ),
        recRE = r.path(  'M962 '+init+'   l-12 -12   l0  -14   l12 12   l0 14'  ),
        recRT = r.rect(935, init-26, 14, 14),
        set = r.set([recRL, recRE, recRT, baseR, baseL, baseT])

    set.transform('T311,209s1,0.575 ,0,0r45,0,0')

    baseL.attr({ fill:'#536782', stroke:'none' })
    baseR.attr({ fill:'#8ea2bd', stroke:'none' })
    baseT.attr({ fill:'#ccc', stroke:'#000' })

    recRL.attr({ fill:'#8bc948', stroke:'#8bc948' }) 
    recRE.attr({ fill:'#6b9e36', stroke:'#6b9e36' }) // end cap
    recRT.attr({ fill:'#c7de39', stroke:'#c7de39' }) // top 

    recRL.animate({path: 'M962 '+init+' l-12 -12 l-724 0   l12 12 l724 0'}, 2000)

    baseT.animate({
        y: -126,
        x: -126
    }, 2000)

    recRT.animate({
        x: 226,
        width: 724
    }, 2000, function() {
        // TODO: when this is integrated into angular, call battle_results()
        //alert("done")
    })

</script>
</body>
</html>
